@if (estaPago) {
  <div role="alert" class="alert alert-success">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    <span>Gracias por su compra!</span>
  </div>
}

<div class="overflow-x-auto">
  <table class="table">
    <thead>
      <tr>
        <th>Imagen</th>
        <th>Nombre</th>
        <th>Precio</th>
        <th>Cantidad</th>
        <th>Subtotal</th>
      </tr>
    </thead>
    <tbody>
      @for (product of products(); track product.product.id) {
      <tr>
        <td>
          <div class="flex items-center gap-3">
            <div class="avatar">
              <div class="mask mask-squircle h-12 w-12">
                <img
                  [src]="product.product.images[0]" [alt]="product.product.name"
                />
              </div>
            </div>
          </div>
        </td>
        <td>{{product.product.name}}</td>
        <td>
          {{ product.product.price | currency }}
        </td>
        <td>
          {{product.cantidad}}
        </td>
        <td>
          {{ (product.product.price * product.cantidad) | currency }}
        </td>
      </tr>
      }
    </tbody>
  </table>
  <span class="text-secondary">Total a pagar: {{calcularTotal() | currency}}</span>
  <br>
  <br>
  <div style="display: flex; justify-content: space-between">
    <button class="btn btn-outline btn-info" (click)="pagar()">Pagar</button>
    <button class="btn btn-outline btn-accent" (click)="vaciarCarrito()">Vaciar carrito y regresar</button>
  </div>

</div>


